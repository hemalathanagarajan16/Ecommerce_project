<section>
  <h2 class="title">Your Cart</h2>
  @if (items$ | async; as items) {
    @if (items.length > 0) {
      <div class="table">
        <div class="row head">
          <div>Product</div>
          <div class="qty">Qty</div>
          <div class="price">Price</div>
          <div class="act">Action</div>
        </div>
        @for (i of items; track i.product.id) {
          <div class="row">
            <div class="prod">
              <img [src]="i.product.imageUrl" [alt]="i.product.name" />
              <div>
                <div class="name">{{ i.product.name }}</div>
                <div class="muted">{{ i.product.description }}</div>
              </div>
            </div>
            <div class="qty">
              <button (click)="dec(i.product.id)">âˆ’</button>
              <span>{{ i.qty }}</span>
              <button (click)="inc(i.product.id)">+</button>
            </div>
            <div class="price">{{ (i.product.price * i.qty) | currency }}</div>
            <div class="act"><button class="link" (click)="remove(i.product.id)">Remove</button></div>
          </div>
        }
      </div>
      <div class="summary">
        <div>Total: <strong>{{ (total$ | async) | currency }}</strong></div>
        <a routerLink="/checkout" class="btn">Proceed to Checkout</a>
      </div>
    } @else {
      <p>Your cart is empty. <a routerLink="/">Go shopping</a>.</p>
    }
  }
</section>
